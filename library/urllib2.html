
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>20.6. urllib2 — URL を開くための拡張可能なライブラリ &#8212; Python 2.7.14 ドキュメント</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7.14',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 2.7.14 ドキュメント 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="20.7. httplib — HTTP プロトコルクライアント" href="httplib.html" />
    <link rel="prev" title="20.5. urllib — URL による任意のリソースへのアクセス" href="urllib.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <link rel="canonical" href="https://docs.python.jp/3/library/urllib2.html" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/_jp.js"></script>
    
    
    <script type="text/javascript" src="../_static/version_switch.js"></script>
 
    

  </head>
  <body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="httplib.html" title="20.7. httplib — HTTP プロトコルクライアント"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="urllib.html" title="20.5. urllib — URL による任意のリソースへのアクセス"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="http://www.python.jp/">Python</a> &#187;</li>
        <li>
          <span class="version_switcher_placeholder">2.7.14</span>
          <a href="../index.html">ドキュメント</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" accesskey="U">20. インターネットプロトコルとサポート</a> &#187;</li> 
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-urllib2">
<span id="urllib2-extensible-library-for-opening-urls"></span><h1>20.6. <a class="reference internal" href="#module-urllib2" title="urllib2: Next generation URL opening library."><code class="xref py py-mod docutils literal"><span class="pre">urllib2</span></code></a> — URL を開くための拡張可能なライブラリ<a class="headerlink" href="#module-urllib2" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last"><a class="reference internal" href="#module-urllib2" title="urllib2: Next generation URL opening library."><code class="xref py py-mod docutils literal"><span class="pre">urllib2</span></code></a> モジュールは、Python 3 で <code class="xref py py-mod docutils literal"><span class="pre">urllib.request</span></code>, <code class="xref py py-mod docutils literal"><span class="pre">urllib.error</span></code> に分割されました。 <a class="reference internal" href="../glossary.html#term-2to3"><span class="xref std std-term">2to3</span></a> ツールが自動的にソースコードのimportを修正します。</p>
</div>
<p><a class="reference internal" href="#module-urllib2" title="urllib2: Next generation URL opening library."><code class="xref py py-mod docutils literal"><span class="pre">urllib2</span></code></a> モジュールは基本的な認証、暗号化認証、リダイレクション、クッキー、その他の介在する複雑なアクセス環境において (大抵は HTTP で)  URL を開くための関数とクラスを定義します。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">より高水準の HTTP クライアントインターフェイスとしては <a class="reference external" href="http://requests.readthedocs.org/">Requests package</a> がお奨めです。</p>
</div>
<p><a class="reference internal" href="#module-urllib2" title="urllib2: Next generation URL opening library."><code class="xref py py-mod docutils literal"><span class="pre">urllib2</span></code></a> モジュールでは以下の関数を定義しています:</p>
<dl class="function">
<dt id="urllib2.urlopen">
<code class="descclassname">urllib2.</code><code class="descname">urlopen</code><span class="sig-paren">(</span><em>url[, data[, timeout[, cafile[, capath[, cadefault[, context]]]]]</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.urlopen" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>URL <em>url</em> を開きます。 <em>url</em> は文字列でも <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> オブジェクトでもかまいません。</p>
<p><em>data</em> はサーバに送信する追加のデータを示す文字列か、そのようなデータが無ければ <em>None</em> を指定します。現時点でHTTPリクエストは <em>data</em> をサポートする唯一のリクエスト形式です; <em>data</em> パラメタが指定が指定された場合、HTTP リクエストは GET でなく POST になります。 <em>data</em> は標準的な <em class="mimetype">application/x-www-form-urlencoded</em> 形式のバッファでなくてはなりません。 <a class="reference internal" href="urllib.html#urllib.urlencode" title="urllib.urlencode"><code class="xref py py-func docutils literal"><span class="pre">urllib.urlencode()</span></code></a> 関数はマップ型か2タプルのシーケンスを取り、この形式の文字列を返します。 urllib2 モジュールは HTTP/1.1 リクエストを <cite>Connection:close</cite> ヘッダ付きで送信します。</p>
<p>オプションの <em>timeout</em> 引数は、接続開始などのブロックする操作におけるタイムアウト時間を秒数で指定します。 (指定されなかった場合、グローバルのデフォルトタイムアウト時間が利用されます) この引数は、 HTTP, HTTPS, FTP 接続でのみ有効です。</p>
<p><em>context</em> を指定する場合、 <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal"><span class="pre">ssl.SSLContext</span></code></a> インスタンスでなければなりません。それはさまざまな SSL オプションを記述しています。詳細は <a class="reference internal" href="httplib.html#httplib.HTTPSConnection" title="httplib.HTTPSConnection"><code class="xref py py-class docutils literal"><span class="pre">HTTPSConnection</span></code></a> を参照してください。</p>
<p>任意のパラメーター <em>cafile</em> および <em>capath</em> には HTTPS リクエストのための CA 証明書のセットを指定します。<em>cafile</em> には CA 証明書のリストを含む 1 個のファイルを指定し、<em>capath</em> にはハッシュ化された証明書ファイルが格納されたディレクトリを指定しなければなりません。より詳しい情報は <a class="reference internal" href="ssl.html#ssl.SSLContext.load_verify_locations" title="ssl.SSLContext.load_verify_locations"><code class="xref py py-meth docutils literal"><span class="pre">ssl.SSLContext.load_verify_locations()</span></code></a> を参照してください。</p>
<p><em>cadefault</em> パラメータは無視されます。</p>
<p>この関数は以下の 3 つのメソッドを持つファイル類似のオブジェクトを返します:</p>
<ul class="simple">
<li><code class="xref py py-meth docutils literal"><span class="pre">geturl()</span></code> — 取得されたリソースの URL を返します。 主に、リダイレクトが発生したかどうかを確認するために利用します。</li>
<li><code class="xref py py-meth docutils literal"><span class="pre">info()</span></code> — 取得されたページのヘッダーなどのメタ情報を、 <a class="reference internal" href="mimetools.html#mimetools.Message" title="mimetools.Message"><code class="xref py py-class docutils literal"><span class="pre">mimetools.Message</span></code></a> インスタンスとして返します。 (<a class="reference external" href="https://www.cs.tut.fi/~jkorpela/http.html">Quick Reference to HTTP Headers</a> を参照してください)</li>
<li><code class="xref py py-meth docutils literal"><span class="pre">getcode()</span></code> — レスポンスの HTTP ステータスコードを返します。</li>
</ul>
<p>エラーが発生した場合 <a class="reference internal" href="#urllib2.URLError" title="urllib2.URLError"><code class="xref py py-exc docutils literal"><span class="pre">URLError</span></code></a> を送出します。</p>
<p>どのハンドラもリクエストを処理しなかった場合には <code class="docutils literal"><span class="pre">None</span></code> を返すことがあるので注意してください (デフォルトでインストールされる グローバルハンドラの <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> は、 <a class="reference internal" href="#urllib2.UnknownHandler" title="urllib2.UnknownHandler"><code class="xref py py-class docutils literal"><span class="pre">UnknownHandler</span></code></a> を使って上記の問題が起きないようにしています)。</p>
<p>さらに、プロキシ設定が検出された場合(例えば <span class="target" id="index-17"></span><code class="xref std std-envvar docutils literal"><span class="pre">http_proxy</span></code> のような <code class="docutils literal"><span class="pre">*_proxy</span></code> 環境変数がセットされているなど)には <a class="reference internal" href="#urllib2.ProxyHandler" title="urllib2.ProxyHandler"><code class="xref py py-class docutils literal"><span class="pre">ProxyHandler</span></code></a> がデフォルトでインストールされ、これがプロキシを通してリクエストを処理するようにしています。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 2.6 で変更: </span><em>timeout</em> 引数が追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 2.7.9 で変更: </span><em>cafile</em>, <em>capath</em>, <em>cadefault</em>, <em>context</em> が追加されました。</p>
</div>
</dd></dl>

<dl class="function">
<dt id="urllib2.install_opener">
<code class="descclassname">urllib2.</code><code class="descname">install_opener</code><span class="sig-paren">(</span><em>opener</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.install_opener" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>指定された <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> のインスタンスを、デフォルトで利用されるグローバルの opener としてインストールします。 opener のインストールは、 urlopen にその opener を使って欲しいとき以外必要ありません。普段は単に <a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> の代わりに <a class="reference internal" href="#urllib2.OpenerDirector.open" title="urllib2.OpenerDirector.open"><code class="xref py py-meth docutils literal"><span class="pre">OpenerDirector.open()</span></code></a> を利用してください。 この関数は引数が本当に <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> のインスタンスであるかどうかはチェックしません。適切なインタフェースを持った任意のクラスを利用することができます。</p>
</dd></dl>

<dl class="function">
<dt id="urllib2.build_opener">
<code class="descclassname">urllib2.</code><code class="descname">build_opener</code><span class="sig-paren">(</span><span class="optional">[</span><em>handler</em>, <em>...</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.build_opener" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>与えられた順番に URL ハンドラを連鎖させる <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a>  のインスタンスを返します。 <em>handler</em> は <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> または <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> のサブクラスのインスタンスのどちらかです (どちらの場合も、コンストラクトは引数無しで呼び出せるようになっていなければなりません) 。クラス  <a class="reference internal" href="#urllib2.ProxyHandler" title="urllib2.ProxyHandler"><code class="xref py py-class docutils literal"><span class="pre">ProxyHandler</span></code></a> (proxy 設定が検出された場合), <a class="reference internal" href="#urllib2.UnknownHandler" title="urllib2.UnknownHandler"><code class="xref py py-class docutils literal"><span class="pre">UnknownHandler</span></code></a>, <a class="reference internal" href="#urllib2.HTTPHandler" title="urllib2.HTTPHandler"><code class="xref py py-class docutils literal"><span class="pre">HTTPHandler</span></code></a>, <a class="reference internal" href="#urllib2.HTTPDefaultErrorHandler" title="urllib2.HTTPDefaultErrorHandler"><code class="xref py py-class docutils literal"><span class="pre">HTTPDefaultErrorHandler</span></code></a>, <a class="reference internal" href="#urllib2.HTTPRedirectHandler" title="urllib2.HTTPRedirectHandler"><code class="xref py py-class docutils literal"><span class="pre">HTTPRedirectHandler</span></code></a>, <a class="reference internal" href="#urllib2.FTPHandler" title="urllib2.FTPHandler"><code class="xref py py-class docutils literal"><span class="pre">FTPHandler</span></code></a>, <a class="reference internal" href="#urllib2.FileHandler" title="urllib2.FileHandler"><code class="xref py py-class docutils literal"><span class="pre">FileHandler</span></code></a>, <a class="reference internal" href="#urllib2.HTTPErrorProcessor" title="urllib2.HTTPErrorProcessor"><code class="xref py py-class docutils literal"><span class="pre">HTTPErrorProcessor</span></code></a> については、そのクラスのインスタンスか、そのサブクラスのインスタンスが <em>handler</em>  に含まれていない限り、 <em>handler</em> よりも先に連鎖します。</p>
<p>Python が SSL をサポートするように設定してインストールされている場合 (すなわち、 <a class="reference internal" href="ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal"><span class="pre">ssl</span></code></a> モジュールを import できる場合) <a class="reference internal" href="#urllib2.HTTPSHandler" title="urllib2.HTTPSHandler"><code class="xref py py-class docutils literal"><span class="pre">HTTPSHandler</span></code></a> も追加されます。</p>
<p>Python 2.3 からは、 <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> サブクラスでも  <code class="xref py py-attr docutils literal"><span class="pre">handler_order</span></code> メンバ変数を変更して、ハンドラリスト内での場所を変更できるようになりました。</p>
</dd></dl>

<p>状況に応じて、以下の例外が送出されます:</p>
<dl class="exception">
<dt id="urllib2.URLError">
<em class="property">exception </em><code class="descclassname">urllib2.</code><code class="descname">URLError</code><a class="headerlink" href="#urllib2.URLError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ハンドラが何らかの問題に遭遇した場合、この例外 (またはこの例外から派生した例外)を送出します。この例外は <a class="reference internal" href="exceptions.html#exceptions.IOError" title="exceptions.IOError"><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code></a> のサブクラスです。</p>
<dl class="attribute">
<dt id="urllib2.URLError.reason">
<code class="descname">reason</code><a class="headerlink" href="#urllib2.URLError.reason" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このエラーの原因。メッセージ文字列か、他の例外のインスタンス(リモートURLの場合は <a class="reference internal" href="socket.html#socket.error" title="socket.error"><code class="xref py py-exc docutils literal"><span class="pre">socket.error</span></code></a>, ローカルURLの場合は <a class="reference internal" href="exceptions.html#exceptions.OSError" title="exceptions.OSError"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code></a>)。</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="urllib2.HTTPError">
<em class="property">exception </em><code class="descclassname">urllib2.</code><code class="descname">HTTPError</code><a class="headerlink" href="#urllib2.HTTPError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>これは例外(<a class="reference internal" href="#urllib2.URLError" title="urllib2.URLError"><code class="xref py py-exc docutils literal"><span class="pre">URLError</span></code></a> のサブクラス)ですが、このオブジェクトは例外でないファイル類似のオブジェクトとして返り値に使うことができます (<a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> が返すのと同じものです)。 この機能は、例えばサーバからの認証リクエストのように、変わった HTTP エラーを処理するのに役立ちます。</p>
<dl class="attribute">
<dt id="urllib2.HTTPError.code">
<code class="descname">code</code><a class="headerlink" href="#urllib2.HTTPError.code" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference external" href="http://www.faqs.org/rfcs/rfc2616.html">RFC 2616</a> に定義されているHTTPステータスコード。 この数値型の値は、 <a class="reference internal" href="basehttpserver.html#BaseHTTPServer.BaseHTTPRequestHandler.responses" title="BaseHTTPServer.BaseHTTPRequestHandler.responses"><code class="xref py py-attr docutils literal"><span class="pre">BaseHTTPServer.BaseHTTPRequestHandler.responses</span></code></a> の辞書に登録されているコードに対応します。</p>
</dd></dl>

<dl class="attribute">
<dt id="urllib2.HTTPError.reason">
<code class="descname">reason</code><a class="headerlink" href="#urllib2.HTTPError.reason" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このエラーの理由。メッセージ文字列あるいは他の例外インスタンスです。</p>
</dd></dl>

</dd></dl>

<p>以下のクラスが提供されています:</p>
<dl class="class">
<dt id="urllib2.Request">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">Request</code><span class="sig-paren">(</span><em>url[, data][, headers][, origin_req_host][, unverifiable]</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このクラスは URL リクエストを抽象化したものです。</p>
<p><em>url</em> は有効な URL を指す文字列でなくてはなりません。</p>
<p><em>data</em> はサーバに送信する追加のデータを示す文字列か、そのようなデータが無ければ <em>None</em> を指定します。現時点でHTTP リクエストは <em>data</em> をサポートする唯一のリクエスト形式です; <em>data</em> パラメタが指定が指定された場合、HTTP リクエストは GET でなく POST になります。 <em>data</em> は標準的な <em class="mimetype">application/x-www-form-urlencoded</em> 形式のバッファでなくてはなりません。 <a class="reference internal" href="urllib.html#urllib.urlencode" title="urllib.urlencode"><code class="xref py py-func docutils literal"><span class="pre">urllib.urlencode()</span></code></a> 関数はマップ型か2タプルのシーケンスを取り、この形式の文字列を返します。</p>
<p><em>headers</em> は辞書である必要があり、辞書のそれぞれのキーと値を引数として <a class="reference internal" href="#urllib2.Request.add_header" title="urllib2.Request.add_header"><code class="xref py py-meth docutils literal"><span class="pre">add_header()</span></code></a> を呼び出したのと同じように扱われます。この引数は、多くの場合ブラウザーが何であるかを特定する <code class="docutils literal"><span class="pre">User-Agent</span></code> ヘッダーの値を &quot;偽装&quot; するために用いられます。これは一部の HTTP サーバーが、スクリプトからのアクセスを禁止するために一般的なブラウザーの <code class="docutils literal"><span class="pre">User-Agent</span></code> ヘッダーしか許可しないためです。例えば、 Mozilla Firefox は <code class="docutils literal"><span class="pre">User-Agent</span></code> に <code class="docutils literal"><span class="pre">&quot;Mozilla/5.0</span> <span class="pre">(X11;</span> <span class="pre">U;</span> <span class="pre">Linux</span> <span class="pre">i686)</span> <span class="pre">Gecko/20071127</span> <span class="pre">Firefox/2.0.0.11&quot;</span></code> のように設定し、 <a class="reference internal" href="#module-urllib2" title="urllib2: Next generation URL opening library."><code class="xref py py-mod docutils literal"><span class="pre">urllib2</span></code></a> はデフォルトで <code class="docutils literal"><span class="pre">&quot;Python-urllib/2.6&quot;</span></code> (Python 2.6の場合) と設定します。</p>
<p>最後の二つの引数は、サードパーティの HTTP クッキーを正しく扱いたい場合にのみ関係してきます:</p>
<p><em>origin_req_host</em> は、 <span class="target" id="index-18"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html"><strong>RFC 2965</strong></a> で定義されている元のトランザクションにおけるリクエストホスト (request-host of the origin transaction) です。デフォルトの値は <code class="docutils literal"><span class="pre">cookielib.request_host(self)</span></code> です。 この値は、ユーザによって開始された元々のリクエストにおけるホスト名や IP アドレスです。例えば、もしリクエストがある HTML ドキュメント内の画像を指していれば、この値は画像を含んでいるページへのリクエストにおけるリクエストホストになるはずです。</p>
<p><em>unverifiable</em> は、 <span class="target" id="index-19"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html"><strong>RFC 2965</strong></a> の定義において、該当するリクエストが証明不能 (unverifiable) であるかどうかを示します。デフォルトの値は <code class="docutils literal"><span class="pre">False</span></code> です。証明不能なリクエストとは、ユーザが受け入れの可否を選択できないような URL を持つリクエストのことです。例えば、リクエストが HTML ドキュメント中の画像であり、ユーザがこの画像を自動的に取得するか どうかを選択できない場合には、証明不能フラグは True になります。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.OpenerDirector">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">OpenerDirector</code><a class="headerlink" href="#urllib2.OpenerDirector" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> クラスは、 <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> の連鎖的に呼び出して URL を開きます。このクラスはハンドラをどのように連鎖させるか、またどのようにエラーをリカバリするかを管理します。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.BaseHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">BaseHandler</code><a class="headerlink" href="#urllib2.BaseHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このクラスはハンドラ連鎖に登録される全てのハンドラがベースとしているクラスです – このクラスでは登録のための単純なメカニズムだけを扱います。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPDefaultErrorHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPDefaultErrorHandler</code><a class="headerlink" href="#urllib2.HTTPDefaultErrorHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTP エラー応答のための標準のハンドラを定義します; 全てのレスポンスに対して、例外 <a class="reference internal" href="#urllib2.HTTPError" title="urllib2.HTTPError"><code class="xref py py-exc docutils literal"><span class="pre">HTTPError</span></code></a> を送出します。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPRedirectHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPRedirectHandler</code><a class="headerlink" href="#urllib2.HTTPRedirectHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リダイレクションを扱うクラスです。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPCookieProcessor">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPCookieProcessor</code><span class="sig-paren">(</span><span class="optional">[</span><em>cookiejar</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPCookieProcessor" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTP Cookie を扱うためのクラスです。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.ProxyHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">ProxyHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>proxies</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.ProxyHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このクラスはプロキシを通過してリクエストを送らせます。引数 <em>proxies</em> を与える場合、プロトコル名からプロキシの URL へ対応付ける辞書でなくてはなりません。標準では、プロキシのリストを環境変数 <span class="target" id="index-20"></span><code class="xref std std-envvar docutils literal"><span class="pre">&lt;protocol&gt;_proxy</span></code>  から読み出します。プロキシ環境変数が設定されていない場合は、 Windows 環境では、 レジストリのインターネット設定セクションからプロキシ設定を手に入れ、 Mac OS X 環境では、 OS X システム設定フレームワーク (System Configuration Framework) からプロキシ情報を取得します。</p>
<p>自動検出されたproxyを無効にするには、空の辞書を渡してください。</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">変数 <code class="docutils literal"><span class="pre">REQUEST_METHOD</span></code> が設定されている場合、 <code class="docutils literal"><span class="pre">HTTP_PROXY</span></code> は無視されます; <a class="reference internal" href="urllib.html#urllib.getproxies" title="urllib.getproxies"><code class="xref py py-func docutils literal"><span class="pre">getproxies()</span></code></a> のドキュメンテーションを参照してください。</p>
</div>
</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPPasswordMgr">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPPasswordMgr</code><a class="headerlink" href="#urllib2.HTTPPasswordMgr" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">(realm,</span> <span class="pre">uri)</span> <span class="pre">-&gt;</span> <span class="pre">(user,</span> <span class="pre">password)</span></code> の対応付けデータベースを保持します。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPPasswordMgrWithDefaultRealm">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPPasswordMgrWithDefaultRealm</code><a class="headerlink" href="#urllib2.HTTPPasswordMgrWithDefaultRealm" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">(realm,</span> <span class="pre">uri)</span> <span class="pre">-&gt;</span> <span class="pre">(user,</span> <span class="pre">password)</span></code>  の対応付けデータベースを保持します。レルム <code class="docutils literal"><span class="pre">None</span></code> はその他諸々のレルムを表し、他のレルムが該当しない場合に検索されます。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.AbstractBasicAuthHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">AbstractBasicAuthHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>password_mgr</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.AbstractBasicAuthHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このクラスはHTTP 認証を補助するための混ぜ込みクラス (mixin class) です。遠隔ホストとプロキシの両方に対応しています。 <em>password_mgr</em> を与える場合、 <a class="reference internal" href="#urllib2.HTTPPasswordMgr" title="urllib2.HTTPPasswordMgr"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgr</span></code></a> と互換性がなければなりません; 互換性のためにサポートしなければならないインタフェースについての情報はセクション <a class="reference internal" href="#http-password-mgr"><span class="std std-ref">HTTPPasswordMgr オブジェクト</span></a> を参照してください。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPBasicAuthHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPBasicAuthHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>password_mgr</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPBasicAuthHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>遠隔ホストとの間での認証を扱います。 <em>password_mgr</em> を与える場合、 <a class="reference internal" href="#urllib2.HTTPPasswordMgr" title="urllib2.HTTPPasswordMgr"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgr</span></code></a> と互換性が なければなりません;  互換性のためにサポートしなければならないインタフェースについての情報はセクション <a class="reference internal" href="#http-password-mgr"><span class="std std-ref">HTTPPasswordMgr オブジェクト</span></a> を参照してください。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.ProxyBasicAuthHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">ProxyBasicAuthHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>password_mgr</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.ProxyBasicAuthHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロキシとの間での認証を扱います。 <em>password_mgr</em> を与える場合、 <a class="reference internal" href="#urllib2.HTTPPasswordMgr" title="urllib2.HTTPPasswordMgr"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgr</span></code></a> と互換性が なければなりません;  互換性のためにサポートしなければならないインタフェースについての情報はセクション <a class="reference internal" href="#http-password-mgr"><span class="std std-ref">HTTPPasswordMgr オブジェクト</span></a> を参照してください。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.AbstractDigestAuthHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">AbstractDigestAuthHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>password_mgr</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.AbstractDigestAuthHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このクラスはHTTP 認証を補助するための混ぜ込みクラス (mixin class) です。遠隔ホストとプロキシの両方に対応しています。 <em>password_mgr</em> を与える場合、 <a class="reference internal" href="#urllib2.HTTPPasswordMgr" title="urllib2.HTTPPasswordMgr"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgr</span></code></a> と互換性がなければなりません; 互換性のためにサポートしなければならないインタフェースについての情報はセクション <a class="reference internal" href="#http-password-mgr"><span class="std std-ref">HTTPPasswordMgr オブジェクト</span></a> を参照してください。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPDigestAuthHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPDigestAuthHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>password_mgr</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPDigestAuthHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>遠隔ホストとの間での認証を扱います。 <em>password_mgr</em> を与える場合、 <a class="reference internal" href="#urllib2.HTTPPasswordMgr" title="urllib2.HTTPPasswordMgr"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgr</span></code></a> と互換性が なければなりません;  互換性のためにサポートしなければならないインタフェースについての情報はセクション <a class="reference internal" href="#http-password-mgr"><span class="std std-ref">HTTPPasswordMgr オブジェクト</span></a> を参照してください。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.ProxyDigestAuthHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">ProxyDigestAuthHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>password_mgr</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.ProxyDigestAuthHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロキシとの間での認証を扱います。 <em>password_mgr</em> を与える場合、 <a class="reference internal" href="#urllib2.HTTPPasswordMgr" title="urllib2.HTTPPasswordMgr"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgr</span></code></a> と互換性が なければなりません;  互換性のためにサポートしなければならないインタフェースについての情報はセクション <a class="reference internal" href="#http-password-mgr"><span class="std std-ref">HTTPPasswordMgr オブジェクト</span></a> を参照してください。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPHandler</code><a class="headerlink" href="#urllib2.HTTPHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTP の URL を開きます。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPSHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPSHandler</code><span class="sig-paren">(</span><span class="optional">[</span><em>debuglevel</em><span class="optional">[</span>, <em>context</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPSHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTPS の URL のオープンを処理するクラスです。 <em>context</em> は <a class="reference internal" href="httplib.html#httplib.HTTPSConnection" title="httplib.HTTPSConnection"><code class="xref py py-class docutils literal"><span class="pre">httplib.HTTPSConnection</span></code></a> のものと同じです。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 2.7.9 で変更: </span><em>context</em> が追加されました。</p>
</div>
</dd></dl>

<dl class="class">
<dt id="urllib2.FileHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">FileHandler</code><a class="headerlink" href="#urllib2.FileHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ローカルファイルを開きます。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.FTPHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">FTPHandler</code><a class="headerlink" href="#urllib2.FTPHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>FTP の URL を開きます。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.CacheFTPHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">CacheFTPHandler</code><a class="headerlink" href="#urllib2.CacheFTPHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>FTP の URL を開きます。遅延を最小限にするために、開かれている FTP  接続に対するキャッシュを保持します。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.UnknownHandler">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">UnknownHandler</code><a class="headerlink" href="#urllib2.UnknownHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>その他諸々のためのクラスで、未知のプロトコルの URL を開きます。</p>
</dd></dl>

<dl class="class">
<dt id="urllib2.HTTPErrorProcessor">
<em class="property">class </em><code class="descclassname">urllib2.</code><code class="descname">HTTPErrorProcessor</code><a class="headerlink" href="#urllib2.HTTPErrorProcessor" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTP エラー応答の処理をします。</p>
</dd></dl>

<div class="section" id="request-objects">
<span id="id1"></span><h2>20.6.1. Request オブジェクト<a class="headerlink" href="#request-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下のメソッドは <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> の全ての公開インタフェースを記述します。 従ってサブクラスではこれら全てのメソッドをオーバライドしなければなりません。</p>
<dl class="method">
<dt id="urllib2.Request.add_data">
<code class="descclassname">Request.</code><code class="descname">add_data</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.add_data" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> のデータを <em>data</em> に設定します。この値は HTTP  ハンドラ以外のハンドラでは無視されます。HTTP ハンドラでは、データはバイト文字列でなくてはなりません。このメソッドを使うとリクエストの形式が <code class="docutils literal"><span class="pre">GET</span></code> から <code class="docutils literal"><span class="pre">POST</span></code> に変更されます。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_method">
<code class="descclassname">Request.</code><code class="descname">get_method</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_method" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTP リクエストメソッドを示す文字列を返します。このメソッドは HTTP リクエストだけに対して意味があり、現状では常に <code class="docutils literal"><span class="pre">'GET'</span></code> か <code class="docutils literal"><span class="pre">'POST'</span></code> のいずれかの値を返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.has_data">
<code class="descclassname">Request.</code><code class="descname">has_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.has_data" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>インスタンスが <code class="docutils literal"><span class="pre">None</span></code> でないデータを持つかどうかを返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_data">
<code class="descclassname">Request.</code><code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_data" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>インスタンスのデータを返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.add_header">
<code class="descclassname">Request.</code><code class="descname">add_header</code><span class="sig-paren">(</span><em>key</em>, <em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.add_header" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リクエストに新たなヘッダを追加します。ヘッダは HTTP ハンドラ以外のハンドラでは無視されます。HTTP ハンドラでは、引数はサーバに送信される ヘッダのリストに追加されます。同じ名前を持つヘッダを 2 つ以上持つことはできず、 <em>key</em> の衝突が生じた場合、後で追加したヘッダが前に 追加したヘッダを上書きします。現時点では、この機能は HTTP の機能を損ねることはありません。というのは、複数回呼び出したときに意味を 持つようなヘッダには、どれもただ一つのヘッダを使って同じ機能を果たすための (ヘッダ特有の) 方法があるからです。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.add_unredirected_header">
<code class="descclassname">Request.</code><code class="descname">add_unredirected_header</code><span class="sig-paren">(</span><em>key</em>, <em>header</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.add_unredirected_header" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リダイレクトされたリクエストには追加されないヘッダを追加します。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 2.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.has_header">
<code class="descclassname">Request.</code><code class="descname">has_header</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.has_header" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>インスタンスが名前つきヘッダであるかどうかを (通常のヘッダと非リダイレクトヘッダの両方を調べて) 返します。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 2.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_full_url">
<code class="descclassname">Request.</code><code class="descname">get_full_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_full_url" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コンストラクタで与えられた URL を返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_type">
<code class="descclassname">Request.</code><code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_type" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>URL のタイプ — いわゆるスキーム (scheme) — を返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_host">
<code class="descclassname">Request.</code><code class="descname">get_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_host" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>接続を行う先のホスト名を返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_selector">
<code class="descclassname">Request.</code><code class="descname">get_selector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_selector" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>セレクタ — サーバに送られる URL の一部分 — を返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_header">
<code class="descclassname">Request.</code><code class="descname">get_header</code><span class="sig-paren">(</span><em>header_name</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_header" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>指定されたヘッダの値を返します。ヘッダがない場合は、 <em>default</em> の値を返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.header_items">
<code class="descclassname">Request.</code><code class="descname">header_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.header_items" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リクエストヘッダの値を、タプル (header_name, header_value) のリストで返します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.set_proxy">
<code class="descclassname">Request.</code><code class="descname">set_proxy</code><span class="sig-paren">(</span><em>host</em>, <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.set_proxy" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リクエストがプロキシサーバを経由するように準備します。 <em>host</em> および <em>type</em> はインスタンスのもとの設定と置き換えられ ます。インスタンスのセレクタはコンストラクタに与えたもともとの URL になります。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.get_origin_req_host">
<code class="descclassname">Request.</code><code class="descname">get_origin_req_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.get_origin_req_host" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><span class="target" id="index-21"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html"><strong>RFC 2965</strong></a> の定義よる、始原トランザクションのリクエストホストを返します。 <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> コンストラクタのドキュメントを 参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.Request.is_unverifiable">
<code class="descclassname">Request.</code><code class="descname">is_unverifiable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.Request.is_unverifiable" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リクエストが <span class="target" id="index-22"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2965.html"><strong>RFC 2965</strong></a> の定義における証明不能リクエストであるかどうかを返します。 <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> コンストラクタのドキュメントを参照してください。</p>
</dd></dl>

</div>
<div class="section" id="openerdirector-objects">
<span id="opener-director-objects"></span><h2>20.6.2. OpenerDirector オブジェクト<a class="headerlink" href="#openerdirector-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> インスタンスは以下のメソッドを持っています:</p>
<dl class="method">
<dt id="urllib2.OpenerDirector.add_handler">
<code class="descclassname">OpenerDirector.</code><code class="descname">add_handler</code><span class="sig-paren">(</span><em>handler</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.OpenerDirector.add_handler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>handler</em> は <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> のインスタンスでなければなりません。以下のメソッドを使った検索が行われ、URL を取り扱うことが可能なハンドラの連鎖が追加されます (HTTP エラーは特別扱いされているので注意してください)。</p>
<ul class="simple">
<li><code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_open</span></code> — ハンドラが <em>protocol</em> の URL を開く方法を知っているかどうかを調べます。</li>
<li><code class="samp docutils literal"><span class="pre">http_error_</span><em><span class="pre">type</span></em></code> — ハンドラが HTTP エラーコード <em>type</em> の処理方法を知っていることを示すシグナルです。</li>
<li><code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_error</span></code> — ハンドラが (<code class="docutils literal"><span class="pre">http</span></code> でない) <em>protocol</em> のエラー を処理する方法を知っていることを示すシグナルです。</li>
<li><code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_request</span></code> — ハンドラが <em>protocol</em> リクエストのプリプロセス方法 を知っていることを示すシグナルです。</li>
<li><code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_response</span></code> — ハンドラが <em>protocol</em> リクエストのポストプロセス方法 を知っていることを示すシグナルです。</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="urllib2.OpenerDirector.open">
<code class="descclassname">OpenerDirector.</code><code class="descname">open</code><span class="sig-paren">(</span><em>url[, data][, timeout]</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.OpenerDirector.open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>与えられた <em>url</em> (リクエストオブジェクトでも文字列でもかまいません) を開きます。オプションとして <em>data</em> を与えることができます。 引数、返り値、および送出される例外は <a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> と同じです (<a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> の場合、標準でインストールされている グローバルな <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> の <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-meth docutils literal"><span class="pre">open()</span></code></a> メソッドを呼び出します) 。 オプションの <em>timeout</em> 引数は、接続開始のようなブロックする処理におけるタイムアウト時間を 秒数で指定します。(指定しなかった場合は、グローバルのデフォルト設定が利用されます) タイムアウト機能は、 HTTP, HTTPS, FTP 接続でのみ有効です。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 2.6 で変更: </span><em>timeout</em> 引数が追加されました。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="urllib2.OpenerDirector.error">
<code class="descclassname">OpenerDirector.</code><code class="descname">error</code><span class="sig-paren">(</span><em>proto</em><span class="optional">[</span>, <em>arg</em><span class="optional">[</span>, <em>...</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.OpenerDirector.error" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>与えられたプロトコルにおけるエラーを処理します。このメソッドは与えられたプロトコルにおける登録済みのエラーハンドラを (プロトコル固有の) 引数で呼び出します。 HTTP プロトコルは特殊なケースで、特定のエラーハンドラを選び出すのに HTTP レスポンスコードを使います; ハンドラクラスの <code class="xref py py-meth docutils literal"><span class="pre">http_error_*()</span></code> メソッドを参照してください。</p>
<p>返り値および送出される例外は <a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> と同じものです。</p>
</dd></dl>

<p>OpenerDirector オブジェクトは、以下の 3 つのステージに分けて URL を開きます:</p>
<p>各ステージで OpenerDirector オブジェクトのメソッドがどのような順で呼び出されるかは、ハンドラインスタンスの並び方で決まります。</p>
<ol class="arabic">
<li><p class="first"><code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_request</span></code> 形式のメソッドを持つ全てのハンドラに対してそのメソッドを呼び出し、リクエストの プリプロセスを行います。</p>
</li>
<li><p class="first"><code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_open</span></code> 形式のメソッドを持つハンドラを呼び出し、リクエストを処理します。 このステージは、ハンドラが <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a> でない値 (すなわちレスポンス) を返すか、例外 (通常は <a class="reference internal" href="#urllib2.URLError" title="urllib2.URLError"><code class="xref py py-exc docutils literal"><span class="pre">URLError</span></code></a>) を送出した時点で終了します。例外は伝播 (propagate) できます。</p>
<p>実際には、上のアルゴリズムではまず <code class="xref py py-meth docutils literal"><span class="pre">default_open()</span></code> という名前のメソッドを呼び出します。このメソッドが全て <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a> を返す場合、同じアルゴリズムを繰り返して、今度は <code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_open</span></code> 形式のメソッドを試します。メソッドが全て <a class="reference internal" href="constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a> を返すと、さらに同じアルゴリズムを繰り返して <code class="xref py py-meth docutils literal"><span class="pre">unknown_open()</span></code> を呼び出します。</p>
<p>これらのメソッドの実装には、親となる <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> インスタンスの <code class="xref py py-meth docutils literal"><span class="pre">open()</span></code> や <code class="xref py py-meth docutils literal"><span class="pre">error()</span></code> といったメソッド呼び出しが入る場合があるので注意してください。</p>
</li>
<li><p class="first"><code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_response</span></code> 形式のメソッドを持つ全てのハンドラに対してそのメソッドを呼び出し、リクエストの ポストプロセスを行います。</p>
</li>
</ol>
</div>
<div class="section" id="basehandler-objects">
<span id="base-handler-objects"></span><h2>20.6.3. BaseHandler オブジェクト<a class="headerlink" href="#basehandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> オブジェクトは直接的に役に立つ 2 つのメソッドと、その他として派生クラスで使われることを想定したメソッドを 提供します。以下は直接的に使うためのメソッドです:</p>
<dl class="method">
<dt id="urllib2.BaseHandler.add_parent">
<code class="descclassname">BaseHandler.</code><code class="descname">add_parent</code><span class="sig-paren">(</span><em>director</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.BaseHandler.add_parent" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>親オブジェクトとして、 <code class="docutils literal"><span class="pre">director</span></code> を追加します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.BaseHandler.close">
<code class="descclassname">BaseHandler.</code><code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.BaseHandler.close" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>全ての親オブジェクトを削除します。</p>
</dd></dl>

<p>以下の属性およびメソッドは <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> から派生したクラスでのみ使われます:</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">慣習的に、 <code class="xref py py-meth docutils literal"><span class="pre">protocol_request()</span></code> や <code class="xref py py-meth docutils literal"><span class="pre">protocol_response()</span></code> といったメソッドを定義している サブクラスは <code class="xref py py-class docutils literal"><span class="pre">*Processor</span></code> と名づけ、その他は <code class="xref py py-class docutils literal"><span class="pre">*</span> <span class="pre">Handler</span></code> と名づけることになっています</p>
</div>
<dl class="attribute">
<dt id="urllib2.BaseHandler.parent">
<code class="descclassname">BaseHandler.</code><code class="descname">parent</code><a class="headerlink" href="#urllib2.BaseHandler.parent" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>有効な <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> です。この値は違うプロトコルを使って URL を開く場合やエラーを処理する際に使われます。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.BaseHandler.default_open">
<code class="descclassname">BaseHandler.</code><code class="descname">default_open</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.BaseHandler.default_open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このメソッドは <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> では定義されて <em>いません</em> 。しかし、全ての URL をキャッチさせたいなら、サブクラスで定義する 必要があります。</p>
<p>このメソッドが定義されていた場合、 <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> から呼び出されます。このメソッドは <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> のメソッド <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-meth docutils literal"><span class="pre">open()</span></code></a> が返す値について記述されているようなファイル類似の オブジェクトか、 <code class="docutils literal"><span class="pre">None</span></code> を返さなくてはなりません。このメソッドが送出する例外は、真に例外的なことが起きない限り、 <a class="reference internal" href="#urllib2.URLError" title="urllib2.URLError"><code class="xref py py-exc docutils literal"><span class="pre">URLError</span></code></a> を送出しなければなりません (例えば、 <a class="reference internal" href="exceptions.html#exceptions.MemoryError" title="exceptions.MemoryError"><code class="xref py py-exc docutils literal"><span class="pre">MemoryError</span></code></a> を <a class="reference internal" href="#urllib2.URLError" title="urllib2.URLError"><code class="xref py py-exc docutils literal"><span class="pre">URLError</span></code></a> をマップしてはいけません)。</p>
<p>このメソッドはプロトコル固有のオープンメソッドが呼び出される前に呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descclassname">BaseHandler.</code><code class="descname">protocol_open</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span></dt>
<dd><p>(&quot;protocol&quot; は実際にはプロトコル名です)</p>
<p>このメソッドは <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> では定義されて <em>いません</em> 。しかし <em>protocol</em> の URL をキャッチしたいなら、サブクラスで定義する必要があります。</p>
<p>このメソッドが定義されていた場合、 <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> から呼び出されます。戻り値は <a class="reference internal" href="#urllib2.BaseHandler.default_open" title="urllib2.BaseHandler.default_open"><code class="xref py py-meth docutils literal"><span class="pre">default_open()</span></code></a> と同じでなければなりません。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.BaseHandler.unknown_open">
<code class="descclassname">BaseHandler.</code><code class="descname">unknown_open</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.BaseHandler.unknown_open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このメソッドは <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> では定義されて <em>いません</em> 。しかし URL を開くための特定のハンドラが登録されていないような URL をキャッチしたいなら、サブクラスで定義する必要があります。</p>
<p>このメソッドが定義されていた場合、 <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> から呼び出されます。戻り値は <a class="reference internal" href="#urllib2.BaseHandler.default_open" title="urllib2.BaseHandler.default_open"><code class="xref py py-meth docutils literal"><span class="pre">default_open()</span></code></a> と同じでなければなりません。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.BaseHandler.http_error_default">
<code class="descclassname">BaseHandler.</code><code class="descname">http_error_default</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.BaseHandler.http_error_default" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このメソッドは <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> では定義されて <em>いません</em> 。しかしその他の処理されなかった HTTP エラーを処理する機能をもたせたいなら、サブクラスで定義する必要があります。このメソッドはエラーに遭遇した <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> から自動的に呼び出されます。その他の状況では普通呼び出すべきではありません。</p>
<p><em>req</em> は <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> オブジェクトで、 <em>fp</em> は HTTP エラー本体を読み出せるようなファイル類似のオブジェクトに なります。 <em>code</em> は 3 桁の 10 進数からなるエラーコードで、 <em>msg</em> ユーザ向けのエラーコード解説です。 <em>hdrs</em> は エラー応答のヘッダをマップしたオブジェクトです。</p>
<p>返される値および送出される例外は <a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> と同じものでなければなりません。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.BaseHandler.http_error_nnn">
<code class="descclassname">BaseHandler.</code><code class="descname">http_error_nnn</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.BaseHandler.http_error_nnn" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>nnn</em> は 3 桁の 10 進数からなる HTTP エラーコードでなくてはなりません。このメソッドも <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> では定義されていませんが、サブクラスのインスタンスで定義されていた場合、エラーコード <em>nnn</em> の HTTP エラーが発生した際に呼び出されます。</p>
<p>特定の HTTP エラーに対する処理を行うためには、このメソッドをサブクラスでオーバライドする必要があります。</p>
<p>引数、返される値、および送出される例外は <a class="reference internal" href="#urllib2.BaseHandler.http_error_default" title="urllib2.BaseHandler.http_error_default"><code class="xref py py-meth docutils literal"><span class="pre">http_error_default()</span></code></a> と同じものでなければなりません。</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descclassname">BaseHandler.</code><code class="descname">protocol_request</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span></dt>
<dd><p>(&quot;protocol&quot; は実際にはプロトコル名です)</p>
<p>このメソッドは <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> では <em>定義されていません</em> が、サブクラスで特定の <em>protocol</em> のリクエストのプリプロセスを行いたい場合には定義する必要があります。</p>
<p>このメソッドが定義されていると、親となる <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> から呼び出されます。その際、 <em>req</em> は <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> オブジェクトになります。戻り値は <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> オブジェクトでなければなりません。</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descclassname">BaseHandler.</code><code class="descname">protocol_response</code><span class="sig-paren">(</span><em>req</em>, <em>response</em><span class="sig-paren">)</span></dt>
<dd><p>(&quot;protocol&quot; は実際にはプロトコル名です)</p>
<p>このメソッドは <a class="reference internal" href="#urllib2.BaseHandler" title="urllib2.BaseHandler"><code class="xref py py-class docutils literal"><span class="pre">BaseHandler</span></code></a> では <em>定義されていません</em> が、サブクラスで特定の <em>protocol</em> のリクエストのポストプロセスを行いたい場合には定義する必要があります。</p>
<p>このメソッドが定義されていると、親となる <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> から呼び出されます。その際、 <em>req</em> は <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> オブジェクトになります。 <em>response</em> は <a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> の戻り値と同じインタフェースを 実装したオブジェクトになります。戻り値もまた、 <a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> の戻り値と同じインタフェースを実装したオブジェクトでなければなりません。</p>
</dd></dl>

</div>
<div class="section" id="httpredirecthandler-objects">
<span id="http-redirect-handler"></span><h2>20.6.4. HTTPRedirectHandler オブジェクト<a class="headerlink" href="#httpredirecthandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">HTTP リダイレクトによっては、このモジュールのクライアントコード側での処理を必要とします。その場合、 <a class="reference internal" href="#urllib2.HTTPError" title="urllib2.HTTPError"><code class="xref py py-exc docutils literal"><span class="pre">HTTPError</span></code></a> が送出されます。 様々なリダイレクトコードの厳密な意味に関する詳細は <span class="target" id="index-23"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a> を参照してください。</p>
</div>
<dl class="method">
<dt id="urllib2.HTTPRedirectHandler.redirect_request">
<code class="descclassname">HTTPRedirectHandler.</code><code class="descname">redirect_request</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em>, <em>newurl</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPRedirectHandler.redirect_request" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リダイレクトの通知に応じて、 <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> または <code class="docutils literal"><span class="pre">None</span></code> を返します。このメソッドは <code class="docutils literal"><span class="pre">http_error_30*()</span></code> メソッドにおいて、リダイレクトの通知をサーバから受信した際に、デフォルトの実装として呼び出されます。リダイレクトを起こす場合、新たな <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> を生成して、 <code class="docutils literal"><span class="pre">http_error_30*()</span></code> が <em>newurl</em> へリダイレクトを実行できるようにします。 そうでない場合、他のどのハンドラにもこの URL を処理させたくなければ <a class="reference internal" href="#urllib2.HTTPError" title="urllib2.HTTPError"><code class="xref py py-exc docutils literal"><span class="pre">HTTPError</span></code></a> を送出し、 リダイレクト処理を行うことはできないが他のハンドラなら可能かもしれない場合には <code class="docutils literal"><span class="pre">None</span></code> を返します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">このメソッドのデフォルトの実装は、 <span class="target" id="index-24"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a> に厳密に従ったものではありません。 <span class="target" id="index-25"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a> では、 <code class="docutils literal"><span class="pre">POST</span></code> リクエストに対する 301 および 302 応答が、ユーザの承認なく自動的にリダイレクトされてはならないと述べています。現実には、ブラウザは POST を <code class="docutils literal"><span class="pre">GET</span></code> に変更することで、これらの応答に対して自動的にリダイレクトを行えるようにしています。デフォルトの実装でも、この挙動を再現しています。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="urllib2.HTTPRedirectHandler.http_error_301">
<code class="descclassname">HTTPRedirectHandler.</code><code class="descname">http_error_301</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPRedirectHandler.http_error_301" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Location:</span></code> か <code class="docutils literal"><span class="pre">URI:</span></code> のURL にリダイレクトします。このメソッドは HTTP  における 'moved permanently' レスポンスを取得した際に 親オブジェクトとなる <a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> によって呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.HTTPRedirectHandler.http_error_302">
<code class="descclassname">HTTPRedirectHandler.</code><code class="descname">http_error_302</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPRedirectHandler.http_error_302" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#urllib2.HTTPRedirectHandler.http_error_301" title="urllib2.HTTPRedirectHandler.http_error_301"><code class="xref py py-meth docutils literal"><span class="pre">http_error_301()</span></code></a> と同じですが、'found' レスポンスに対して呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.HTTPRedirectHandler.http_error_303">
<code class="descclassname">HTTPRedirectHandler.</code><code class="descname">http_error_303</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPRedirectHandler.http_error_303" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#urllib2.HTTPRedirectHandler.http_error_301" title="urllib2.HTTPRedirectHandler.http_error_301"><code class="xref py py-meth docutils literal"><span class="pre">http_error_301()</span></code></a> と同じですが、'see other' レスポンスに対して呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.HTTPRedirectHandler.http_error_307">
<code class="descclassname">HTTPRedirectHandler.</code><code class="descname">http_error_307</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPRedirectHandler.http_error_307" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#urllib2.HTTPRedirectHandler.http_error_301" title="urllib2.HTTPRedirectHandler.http_error_301"><code class="xref py py-meth docutils literal"><span class="pre">http_error_301()</span></code></a> と同じですが、'temporary redirect'  レスポンスに対して呼び出されます。</p>
</dd></dl>

</div>
<div class="section" id="httpcookieprocessor-objects">
<span id="http-cookie-processor"></span><h2>20.6.5. HTTPCookieProcessor オブジェクト<a class="headerlink" href="#httpcookieprocessor-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">バージョン 2.4 で追加.</span></p>
</div>
<p><a class="reference internal" href="#urllib2.HTTPCookieProcessor" title="urllib2.HTTPCookieProcessor"><code class="xref py py-class docutils literal"><span class="pre">HTTPCookieProcessor</span></code></a> インスタンスは属性をひとつだけ持ちます:</p>
<dl class="attribute">
<dt id="urllib2.HTTPCookieProcessor.cookiejar">
<code class="descclassname">HTTPCookieProcessor.</code><code class="descname">cookiejar</code><a class="headerlink" href="#urllib2.HTTPCookieProcessor.cookiejar" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>クッキーの入っている <a class="reference internal" href="cookielib.html#cookielib.CookieJar" title="cookielib.CookieJar"><code class="xref py py-class docutils literal"><span class="pre">cookielib.CookieJar</span></code></a> オブジェクトです。</p>
</dd></dl>

</div>
<div class="section" id="proxyhandler-objects">
<span id="proxy-handler"></span><h2>20.6.6. ProxyHandler オブジェクト<a class="headerlink" href="#proxyhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt>
<code class="descclassname">ProxyHandler.</code><code class="descname">protocol_open</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span></dt>
<dd><p>(&quot;protocol&quot; は実際にはプロトコル名です)</p>
<p><a class="reference internal" href="#urllib2.ProxyHandler" title="urllib2.ProxyHandler"><code class="xref py py-class docutils literal"><span class="pre">ProxyHandler</span></code></a> は、コンストラクタで与えた辞書 <em>proxies</em> にプロキシが設定されているような <em>protocol</em> 全てについて、メソッド  <code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_open</span></code> を持つことになります。このメソッドは <code class="docutils literal"><span class="pre">request.set_proxy()</span></code> を呼び出して、リクエストがプロキシを通過できるように修正します。その後連鎖するハンドラの中から次のハンドラを呼び出して実際にプロトコルを実行します。</p>
</dd></dl>

</div>
<div class="section" id="httppasswordmgr-objects">
<span id="http-password-mgr"></span><h2>20.6.7. HTTPPasswordMgr オブジェクト<a class="headerlink" href="#httppasswordmgr-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下のメソッドは <a class="reference internal" href="#urllib2.HTTPPasswordMgr" title="urllib2.HTTPPasswordMgr"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgr</span></code></a> および <a class="reference internal" href="#urllib2.HTTPPasswordMgrWithDefaultRealm" title="urllib2.HTTPPasswordMgrWithDefaultRealm"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgrWithDefaultRealm</span></code></a> オブジェクトで利用できます。</p>
<dl class="method">
<dt id="urllib2.HTTPPasswordMgr.add_password">
<code class="descclassname">HTTPPasswordMgr.</code><code class="descname">add_password</code><span class="sig-paren">(</span><em>realm</em>, <em>uri</em>, <em>user</em>, <em>passwd</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPPasswordMgr.add_password" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>uri</em> は単一の URI でも複数の URI からなるシーケンスでもかまいません。 <em>realm</em> 、 <em>user</em> および <em>passwd</em> は文字列でなくてはなりません。このメソッドによって、 <em>realm</em> と与えられた URI の上位 URI に対して <code class="docutils literal"><span class="pre">(user,</span> <span class="pre">passwd)</span></code> が認証トークンとして使われるようになります。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.HTTPPasswordMgr.find_user_password">
<code class="descclassname">HTTPPasswordMgr.</code><code class="descname">find_user_password</code><span class="sig-paren">(</span><em>realm</em>, <em>authuri</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPPasswordMgr.find_user_password" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>与えられたレルムおよび URI に対するユーザ名またはパスワードがあればそれを取得します。該当するユーザ名／パスワードが存在しない場合、このメソッドは <code class="docutils literal"><span class="pre">(None,</span> <span class="pre">None)</span></code> を返します。</p>
<p><a class="reference internal" href="#urllib2.HTTPPasswordMgrWithDefaultRealm" title="urllib2.HTTPPasswordMgrWithDefaultRealm"><code class="xref py py-class docutils literal"><span class="pre">HTTPPasswordMgrWithDefaultRealm</span></code></a> オブジェクトでは、与えられた <em>realm</em> に対して該当するユーザ名/パスワードが存在しない場合、レルム <code class="docutils literal"><span class="pre">None</span></code> が検索されます。</p>
</dd></dl>

</div>
<div class="section" id="abstractbasicauthhandler-objects">
<span id="abstract-basic-auth-handler"></span><h2>20.6.8. AbstractBasicAuthHandler オブジェクト<a class="headerlink" href="#abstractbasicauthhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.AbstractBasicAuthHandler.http_error_auth_reqed">
<code class="descclassname">AbstractBasicAuthHandler.</code><code class="descname">http_error_auth_reqed</code><span class="sig-paren">(</span><em>authreq</em>, <em>host</em>, <em>req</em>, <em>headers</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.AbstractBasicAuthHandler.http_error_auth_reqed" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ユーザ名／パスワードを取得し、再度サーバへのリクエストを試みることで、サーバからの認証リクエストを処理します。 <em>authreq</em> はリクエストにおいて レルムに関する情報が含まれているヘッダの名前、 <em>host</em> は認証を行う対象の URL とパスを指定します、 <em>req</em> は (失敗した) <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> オブジェクト、そして <em>headers</em> はエラーヘッダでなくてはなりません。</p>
<p><em>host</em> は、オーソリティ (例 <code class="docutils literal"><span class="pre">&quot;python.org&quot;</span></code>) か、オーソリティコンポーネントを含む URL (例 <code class="docutils literal"><span class="pre">&quot;http://python.org&quot;</span></code>) です。どちらの場合も、オーソリティはユーザ情報コンポーネントを含んではいけません (なので、 <code class="docutils literal"><span class="pre">&quot;python.org&quot;</span></code> や <code class="docutils literal"><span class="pre">&quot;python.org:80&quot;</span></code> は正しく、 <code class="docutils literal"><span class="pre">&quot;joe:password&#64;python.org&quot;</span></code> は不正です) 。</p>
</dd></dl>

</div>
<div class="section" id="httpbasicauthhandler-objects">
<span id="http-basic-auth-handler"></span><h2>20.6.9. HTTPBasicAuthHandler オブジェクト<a class="headerlink" href="#httpbasicauthhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.HTTPBasicAuthHandler.http_error_401">
<code class="descclassname">HTTPBasicAuthHandler.</code><code class="descname">http_error_401</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPBasicAuthHandler.http_error_401" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>認証情報がある場合、認証情報付きで再度リクエストを試みます。</p>
</dd></dl>

</div>
<div class="section" id="proxybasicauthhandler-objects">
<span id="proxy-basic-auth-handler"></span><h2>20.6.10. ProxyBasicAuthHandler オブジェクト<a class="headerlink" href="#proxybasicauthhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.ProxyBasicAuthHandler.http_error_407">
<code class="descclassname">ProxyBasicAuthHandler.</code><code class="descname">http_error_407</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.ProxyBasicAuthHandler.http_error_407" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>認証情報がある場合、認証情報付きで再度リクエストを試みます。</p>
</dd></dl>

</div>
<div class="section" id="abstractdigestauthhandler-objects">
<span id="abstract-digest-auth-handler"></span><h2>20.6.11. AbstractDigestAuthHandler オブジェクト<a class="headerlink" href="#abstractdigestauthhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.AbstractDigestAuthHandler.http_error_auth_reqed">
<code class="descclassname">AbstractDigestAuthHandler.</code><code class="descname">http_error_auth_reqed</code><span class="sig-paren">(</span><em>authreq</em>, <em>host</em>, <em>req</em>, <em>headers</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.AbstractDigestAuthHandler.http_error_auth_reqed" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>authreq</em> はリクエストにおいてレルムに関する情報が含まれているヘッダの名前、 <em>host</em> は認証を行う対象のホスト名、 <em>req</em> は  (失敗した) <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> オブジェクト、そして <em>headers</em> はエラーヘッダでなくてはなりません。</p>
</dd></dl>

</div>
<div class="section" id="httpdigestauthhandler-objects">
<span id="http-digest-auth-handler"></span><h2>20.6.12. HTTPDigestAuthHandler オブジェクト<a class="headerlink" href="#httpdigestauthhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.HTTPDigestAuthHandler.http_error_401">
<code class="descclassname">HTTPDigestAuthHandler.</code><code class="descname">http_error_401</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPDigestAuthHandler.http_error_401" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>認証情報がある場合、認証情報付きで再度リクエストを試みます。</p>
</dd></dl>

</div>
<div class="section" id="proxydigestauthhandler-objects">
<span id="proxy-digest-auth-handler"></span><h2>20.6.13. ProxyDigestAuthHandler オブジェクト<a class="headerlink" href="#proxydigestauthhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.ProxyDigestAuthHandler.http_error_407">
<code class="descclassname">ProxyDigestAuthHandler.</code><code class="descname">http_error_407</code><span class="sig-paren">(</span><em>req</em>, <em>fp</em>, <em>code</em>, <em>msg</em>, <em>hdrs</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.ProxyDigestAuthHandler.http_error_407" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>認証情報がある場合、認証情報付きで再度リクエストを試みます。</p>
</dd></dl>

</div>
<div class="section" id="httphandler-objects">
<span id="http-handler-objects"></span><h2>20.6.14. HTTPHandler オブジェクト<a class="headerlink" href="#httphandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.HTTPHandler.http_open">
<code class="descclassname">HTTPHandler.</code><code class="descname">http_open</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPHandler.http_open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTP リクエストを送ります。 <code class="docutils literal"><span class="pre">req.has_data()</span></code> に応じて、 GET または POST のどちらでも送ることができます。</p>
</dd></dl>

</div>
<div class="section" id="httpshandler-objects">
<span id="https-handler-objects"></span><h2>20.6.15. HTTPSHandler オブジェクト<a class="headerlink" href="#httpshandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.HTTPSHandler.https_open">
<code class="descclassname">HTTPSHandler.</code><code class="descname">https_open</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPSHandler.https_open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTPS リクエストを送ります。 <code class="docutils literal"><span class="pre">req.has_data()</span></code> に応じて、 GET または POST のどちらでも送ることができます。</p>
</dd></dl>

</div>
<div class="section" id="filehandler-objects">
<span id="file-handler-objects"></span><h2>20.6.16. FileHandler オブジェクト<a class="headerlink" href="#filehandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.FileHandler.file_open">
<code class="descclassname">FileHandler.</code><code class="descname">file_open</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.FileHandler.file_open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ホスト名がない場合、またはホスト名が <code class="docutils literal"><span class="pre">'localhost'</span></code> の場合にファイルをローカルでオープンします。そうでない場合、プロトコルを <code class="docutils literal"><span class="pre">ftp</span></code> に切り替え、 <code class="xref py py-attr docutils literal"><span class="pre">parent</span></code> を使って再度オープンを試みます。</p>
</dd></dl>

</div>
<div class="section" id="ftphandler-objects">
<span id="ftp-handler-objects"></span><h2>20.6.17. FTPHandler オブジェクト<a class="headerlink" href="#ftphandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.FTPHandler.ftp_open">
<code class="descclassname">FTPHandler.</code><code class="descname">ftp_open</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.FTPHandler.ftp_open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>req</em> で表されるファイルを FTP 越しにオープンします。ログインは常に空のユーザネームおよびパスワードで行われます。</p>
</dd></dl>

</div>
<div class="section" id="cacheftphandler-objects">
<span id="cacheftp-handler-objects"></span><h2>20.6.18. CacheFTPHandler オブジェクト<a class="headerlink" href="#cacheftphandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#urllib2.CacheFTPHandler" title="urllib2.CacheFTPHandler"><code class="xref py py-class docutils literal"><span class="pre">CacheFTPHandler</span></code></a> オブジェクトは <a class="reference internal" href="#urllib2.FTPHandler" title="urllib2.FTPHandler"><code class="xref py py-class docutils literal"><span class="pre">FTPHandler</span></code></a> オブジェクトに以下のメソッドを追加したものです:</p>
<dl class="method">
<dt id="urllib2.CacheFTPHandler.setTimeout">
<code class="descclassname">CacheFTPHandler.</code><code class="descname">setTimeout</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.CacheFTPHandler.setTimeout" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>接続のタイムアウトを <em>t</em> 秒に設定します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.CacheFTPHandler.setMaxConns">
<code class="descclassname">CacheFTPHandler.</code><code class="descname">setMaxConns</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.CacheFTPHandler.setMaxConns" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>キャッシュ付き接続の最大接続数を <em>m</em> に設定します。</p>
</dd></dl>

</div>
<div class="section" id="unknownhandler-objects">
<span id="unknown-handler-objects"></span><h2>20.6.19. UnknownHandler オブジェクト<a class="headerlink" href="#unknownhandler-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="method">
<dt id="urllib2.UnknownHandler.unknown_open">
<code class="descclassname">UnknownHandler.</code><code class="descname">unknown_open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.UnknownHandler.unknown_open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>例外 <a class="reference internal" href="#urllib2.URLError" title="urllib2.URLError"><code class="xref py py-exc docutils literal"><span class="pre">URLError</span></code></a> を送出します。</p>
</dd></dl>

</div>
<div class="section" id="httperrorprocessor-objects">
<span id="http-error-processor-objects"></span><h2>20.6.20. HTTPErrorProcessor オブジェクト<a class="headerlink" href="#httperrorprocessor-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">バージョン 2.4 で追加.</span></p>
</div>
<dl class="method">
<dt id="urllib2.HTTPErrorProcessor.http_response">
<code class="descclassname">HTTPErrorProcessor.</code><code class="descname">http_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPErrorProcessor.http_response" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTP エラー応答の処理をします。</p>
<p>エラーコード 200 の場合、レスポンスオブジェクトを即座に返します。</p>
<p>200 以外のエラーコードの場合、 <a class="reference internal" href="#urllib2.OpenerDirector.error" title="urllib2.OpenerDirector.error"><code class="xref py py-meth docutils literal"><span class="pre">OpenerDirector.error()</span></code></a> を介して <code class="samp docutils literal"><em><span class="pre">protocol</span></em><span class="pre">_error_code</span></code> メソッドに仕事を引き渡します。最終的にどのハンドラもエラーを処理しなかった 場合、 <a class="reference internal" href="#urllib2.HTTPDefaultErrorHandler" title="urllib2.HTTPDefaultErrorHandler"><code class="xref py py-class docutils literal"><span class="pre">urllib2.HTTPDefaultErrorHandler</span></code></a> が <a class="reference internal" href="#urllib2.HTTPError" title="urllib2.HTTPError"><code class="xref py py-exc docutils literal"><span class="pre">HTTPError</span></code></a> を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="urllib2.HTTPErrorProcessor.https_response">
<code class="descclassname">HTTPErrorProcessor.</code><code class="descname">https_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#urllib2.HTTPErrorProcessor.https_response" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>HTTPS エラー応答の処理をします。</p>
<p>振る舞いは <a class="reference internal" href="#urllib2.HTTPErrorProcessor.http_response" title="urllib2.HTTPErrorProcessor.http_response"><code class="xref py py-meth docutils literal"><span class="pre">http_response()</span></code></a> と同じです。</p>
</dd></dl>

</div>
<div class="section" id="examples">
<span id="urllib2-examples"></span><h2>20.6.21. 例<a class="headerlink" href="#examples" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下の例の他に <a class="reference internal" href="../howto/urllib2.html#urllib-howto"><span class="std std-ref">urllib2 を使ってインターネット上のリソースを取得するには</span></a> に多くの例があります。</p>
<p>以下の例では、 python.org のメインページを取得して、その最初の 100 バイト分を表示します:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;http://www.python.org/&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;</span>
<span class="go">&lt;?xml-stylesheet href=&quot;./css/ht2html</span>
</pre></div>
</div>
<p>今度は CGI の標準入力にデータストリームを送信し、CGI が返すデータを読み出します。この例は Python が SSL をサポートしている場合にのみ 動作することに注意してください。</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">req</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://localhost/cgi-bin/test.cgi&#39;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">data</span><span class="o">=</span><span class="s1">&#39;This data is passed to stdin of the CGI&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">Got Data: &quot;This data is passed to stdin of the CGI&quot;</span>
</pre></div>
</div>
<p>上の例で使われているサンプルの CGI は以下のようになっています:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span> <span class="s1">&#39;Content-type: text-plain</span><span class="se">\n\n</span><span class="s1">Got Data: &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">data</span>
</pre></div>
</div>
<p>以下はベーシック HTTP 認証の例です:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="c1"># Create an OpenerDirector with support for Basic HTTP Authentication...</span>
<span class="n">auth_handler</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">HTTPBasicAuthHandler</span><span class="p">()</span>
<span class="n">auth_handler</span><span class="o">.</span><span class="n">add_password</span><span class="p">(</span><span class="n">realm</span><span class="o">=</span><span class="s1">&#39;PDQ Application&#39;</span><span class="p">,</span>
                          <span class="n">uri</span><span class="o">=</span><span class="s1">&#39;https://mahler:8092/site-updates.py&#39;</span><span class="p">,</span>
                          <span class="n">user</span><span class="o">=</span><span class="s1">&#39;klem&#39;</span><span class="p">,</span>
                          <span class="n">passwd</span><span class="o">=</span><span class="s1">&#39;kadidd!ehopper&#39;</span><span class="p">)</span>
<span class="n">opener</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">auth_handler</span><span class="p">)</span>
<span class="c1"># ...and install it globally so it can be used with urlopen.</span>
<span class="n">urllib2</span><span class="o">.</span><span class="n">install_opener</span><span class="p">(</span><span class="n">opener</span><span class="p">)</span>
<span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/login.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#urllib2.build_opener" title="urllib2.build_opener"><code class="xref py py-func docutils literal"><span class="pre">build_opener()</span></code></a> はデフォルトで沢山のハンドラを提供しており、その中に <a class="reference internal" href="#urllib2.ProxyHandler" title="urllib2.ProxyHandler"><code class="xref py py-class docutils literal"><span class="pre">ProxyHandler</span></code></a> があります。デフォルトでは、 <a class="reference internal" href="#urllib2.ProxyHandler" title="urllib2.ProxyHandler"><code class="xref py py-class docutils literal"><span class="pre">ProxyHandler</span></code></a> は <code class="docutils literal"><span class="pre">&lt;scheme&gt;_proxy</span></code> という環境変数を使います。 ここで <code class="docutils literal"><span class="pre">&lt;scheme&gt;</span></code> は URL スキームです。例えば、 HTTP プロキシの URL を得るには、環境変数 <span class="target" id="index-26"></span><code class="xref std std-envvar docutils literal"><span class="pre">http_proxy</span></code> を読み出します。</p>
<p>この例では、デフォルトの <a class="reference internal" href="#urllib2.ProxyHandler" title="urllib2.ProxyHandler"><code class="xref py py-class docutils literal"><span class="pre">ProxyHandler</span></code></a> を置き換えてプログラム的に作成したプロキシ URL を使うようにし、 <a class="reference internal" href="#urllib2.ProxyBasicAuthHandler" title="urllib2.ProxyBasicAuthHandler"><code class="xref py py-class docutils literal"><span class="pre">ProxyBasicAuthHandler</span></code></a> でプロキシ認証サポートを追加します。</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proxy_handler</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">ProxyHandler</span><span class="p">({</span><span class="s1">&#39;http&#39;</span><span class="p">:</span> <span class="s1">&#39;http://www.example.com:3128/&#39;</span><span class="p">})</span>
<span class="n">proxy_auth_handler</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">ProxyBasicAuthHandler</span><span class="p">()</span>
<span class="n">proxy_auth_handler</span><span class="o">.</span><span class="n">add_password</span><span class="p">(</span><span class="s1">&#39;realm&#39;</span><span class="p">,</span> <span class="s1">&#39;host&#39;</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">)</span>

<span class="n">opener</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">proxy_handler</span><span class="p">,</span> <span class="n">proxy_auth_handler</span><span class="p">)</span>
<span class="c1"># This time, rather than install the OpenerDirector, we use it directly:</span>
<span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/login.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>以下は HTTP ヘッダを追加する例です:</p>
<p><em>headers</em> 引数を使って <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> コンストラクタを呼び出す方法の他に、以下のようにできます:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="n">req</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/&#39;</span><span class="p">)</span>
<span class="n">req</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s1">&#39;Referer&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.python.org/&#39;</span><span class="p">)</span>
<span class="c1"># Customize the default User-Agent header value:</span>
<span class="n">req</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">,</span> <span class="s1">&#39;urllib-example/0.1 (Contact: . . .)&#39;</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#urllib2.OpenerDirector" title="urllib2.OpenerDirector"><code class="xref py py-class docutils literal"><span class="pre">OpenerDirector</span></code></a> は全ての <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> に <em class="mailheader">User-Agent</em> ヘッダを自動的に追加します。これを変更するには以下のようにします:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="n">opener</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">build_opener</span><span class="p">()</span>
<span class="n">opener</span><span class="o">.</span><span class="n">addheaders</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;User-agent&#39;</span><span class="p">,</span> <span class="s1">&#39;Mozilla/5.0&#39;</span><span class="p">)]</span>
<span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>また、 <a class="reference internal" href="#urllib2.Request" title="urllib2.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a> が <a class="reference internal" href="#urllib2.urlopen" title="urllib2.urlopen"><code class="xref py py-func docutils literal"><span class="pre">urlopen()</span></code></a> (や <a class="reference internal" href="#urllib2.OpenerDirector.open" title="urllib2.OpenerDirector.open"><code class="xref py py-meth docutils literal"><span class="pre">OpenerDirector.open()</span></code></a>)に渡される際には、いくつかの標準ヘッダ (<em class="mailheader">Content-Length</em>, <em class="mailheader">Content-Type</em> および <em class="mailheader">Host</em>) も追加されることを忘れないでください。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">20.6. <code class="docutils literal"><span class="pre">urllib2</span></code> — URL を開くための拡張可能なライブラリ</a><ul>
<li><a class="reference internal" href="#request-objects">20.6.1. Request オブジェクト</a></li>
<li><a class="reference internal" href="#openerdirector-objects">20.6.2. OpenerDirector オブジェクト</a></li>
<li><a class="reference internal" href="#basehandler-objects">20.6.3. BaseHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httpredirecthandler-objects">20.6.4. HTTPRedirectHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httpcookieprocessor-objects">20.6.5. HTTPCookieProcessor オブジェクト</a></li>
<li><a class="reference internal" href="#proxyhandler-objects">20.6.6. ProxyHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httppasswordmgr-objects">20.6.7. HTTPPasswordMgr オブジェクト</a></li>
<li><a class="reference internal" href="#abstractbasicauthhandler-objects">20.6.8. AbstractBasicAuthHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httpbasicauthhandler-objects">20.6.9. HTTPBasicAuthHandler オブジェクト</a></li>
<li><a class="reference internal" href="#proxybasicauthhandler-objects">20.6.10. ProxyBasicAuthHandler オブジェクト</a></li>
<li><a class="reference internal" href="#abstractdigestauthhandler-objects">20.6.11. AbstractDigestAuthHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httpdigestauthhandler-objects">20.6.12. HTTPDigestAuthHandler オブジェクト</a></li>
<li><a class="reference internal" href="#proxydigestauthhandler-objects">20.6.13. ProxyDigestAuthHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httphandler-objects">20.6.14. HTTPHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httpshandler-objects">20.6.15. HTTPSHandler オブジェクト</a></li>
<li><a class="reference internal" href="#filehandler-objects">20.6.16. FileHandler オブジェクト</a></li>
<li><a class="reference internal" href="#ftphandler-objects">20.6.17. FTPHandler オブジェクト</a></li>
<li><a class="reference internal" href="#cacheftphandler-objects">20.6.18. CacheFTPHandler オブジェクト</a></li>
<li><a class="reference internal" href="#unknownhandler-objects">20.6.19. UnknownHandler オブジェクト</a></li>
<li><a class="reference internal" href="#httperrorprocessor-objects">20.6.20. HTTPErrorProcessor オブジェクト</a></li>
<li><a class="reference internal" href="#examples">20.6.21. 例</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="urllib.html"
                        title="前の章へ">20.5. <code class="docutils literal"><span class="pre">urllib</span></code> — URL による任意のリソースへのアクセス</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="httplib.html"
                        title="次の章へ">20.7. <code class="docutils literal"><span class="pre">httplib</span></code> — HTTP プロトコルクライアント</a></p>
<h3>このページ</h3>
<ul class="this-page-menu">
  <li><a href="../bugs.html">バグ報告</a></li>
  <li><a href="https://github.com/python/cpython/blob/2.7/Doc/library/urllib2.rst"
         rel="nofollow">ソースの表示</a>
  </li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="検索" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="httplib.html" title="20.7. httplib — HTTP プロトコルクライアント"
             >次へ</a> |</li>
        <li class="right" >
          <a href="urllib.html" title="20.5. urllib — URL による任意のリソースへのアクセス"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="http://www.python.jp/">Python</a> &#187;</li>
        <li>
          <span class="version_switcher_placeholder">2.7.14</span>
          <a href="../index.html">ドキュメント</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" >20. インターネットプロトコルとサポート</a> &#187;</li> 
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 1990-2017, Python Software Foundation (translated by Python ドキュメント日本語翻訳プロジェクト).
    <br />
    Python Software Foundation は非営利団体です。
    <a href="https://www.python.org/psf/donations/">寄付</a>
    <br />
    最終更新日時: 2017-11-20
    <a href="../bugs.html">バグを見つけたら</a>?
    <br />
    このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.4 を使って作成されました。
    </div>

  </body>
</html>